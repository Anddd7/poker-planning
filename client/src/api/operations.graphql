fragment UserFragment on User {
  id
  username
}

fragment DeckFragment on Deck {
  id
  cards
}

fragment UserCardFragment on UserCard {
  userId
  card
}

fragment GameFragment on Game {
  id
  table {
    ...UserCardFragment
  }
}

fragment RoomFragment on Room {
  id
  name
  users {
    ...UserFragment
  }
  deck {
    ...DeckFragment
  }
  game {
    ...GameFragment
  }
}

mutation CreateRoom($name: String) {
  createRoom(name: $name) {
    ...RoomFragment
  }
}

mutation CreateUser($username: String!) {
  createUser(username: $username) {
    ...UserFragment
  }
}

mutation JoinRoom($roomId: UUID!, $user: UserInput!) {
  joinRoom(roomId: $roomId, user: $user) {
    ...RoomFragment
  }
}

subscription Room($roomId: UUID!) {
  room(roomId: $roomId) {
    ...RoomFragment
  }
}
